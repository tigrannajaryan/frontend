<ion-header madeHeader [showHome]="true">
  <ion-toolbar *ngIf="isAdditionalService" class="SelectDate SelectDate-header">
    <div class="SelectDate-title SharedH1">Add additional service:</div>
    <book-services-header [readonly]="isAdditionalService"></book-services-header>
  </ion-toolbar>
</ion-header>

<ion-content scroll="false">
  <div class="contentSidePadding">
    <div class="SharedH1" *ngIf="!isAdditionalService">Choose a&nbsp;service category</div>

    <!-- Showing loading cards -->
    <div *ngIf="(requestState | async) === RequestState.Loading" class="SharedCategories-categories">
      <div *ngFor="let category of loadingCategories" class="SharedCard is-loading">
        <div>
          <div class="SharedCategories-cardTitle">&nbsp;</div>
          <div class="SharedCategories-cardSubtitle">&nbsp;</div>
        </div>
      </div>
    </div>

    <!-- Showing categories cards -->
    <div *ngIf="(requestState | async) === RequestState.Succeeded">
      <div *ngIf="(categories | async)?.length > 0" class="SharedCategories-categories">
        <div *ngFor="let category of categories | async" class="SharedCategories-card SharedCard" (click)="onProceedToServices(category.uuid)"
          [attr.data-test-id]="'category' + category.category_code">
          <div class="SharedCategories-cardImg" [style.backgroundImage]="'url(' + 'assets/icons/services-categories/' + category.category_code +'.png)'"></div>
          <div>
            <div class="SharedCategories-cardTitle">{{ category.name }}</div>
            <div class="SharedCategories-cardSubtitle">{{ category.services.length }} services</div>
          </div>
        </div>
      </div>

      <!-- This could happen only if we show incomplete stylists porfiles when a client is searching for stylists. -->
      <p *ngIf="(categories | async)?.length === 0">This client has no services yet.</p>
    </div>
  </div>
</ion-content>
